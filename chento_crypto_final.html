<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chento Crypto Bot - 3 Signal Types</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #0f0f23, #1a1a2e); 
            color: white;
            padding: 15px;
            min-height: 100vh;
        }
        .container { max-width: 900px; margin: 0 auto; }
        
        .header { 
            text-align: center; 
            padding: 25px 0;
            background: linear-gradient(135deg, #3b82f6, #6366f1, #8b5cf6);
            border-radius: 15px;
            margin-bottom: 25px;
            border: 2px solid #4f46e5;
            box-shadow: 0 5px 20px rgba(99, 102, 241, 0.4);
        }
        h1 { 
            font-size: 30px; 
            margin-bottom: 10px; 
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            background: linear-gradient(135deg, #fff, #60a5fa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .subtitle { 
            color: #cbd5e1; 
            font-size: 16px; 
            font-weight: 500;
            margin-top: 5px;
        }
        
        .card { 
            background: rgba(30, 41, 59, 0.8); 
            border-radius: 15px; 
            padding: 25px; 
            margin-bottom: 25px;
            border: 1px solid #334155;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        
        h2 { 
            color: #60a5fa; 
            margin-bottom: 20px; 
            font-size: 22px;
            border-left: 5px solid #3b82f6;
            padding-left: 15px;
        }
        
        input {
            width: 100%;
            padding: 15px;
            margin: 12px 0;
            border-radius: 10px;
            border: 2px solid #475569;
            background: rgba(15, 23, 42, 0.8);
            color: white;
            font-size: 16px;
            transition: all 0.3s;
        }
        input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }
        
        .btn {
            width: 100%;
            padding: 16px;
            border-radius: 10px;
            border: none;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.5);
        }
        
        .pair-list {
            max-height: 400px;
            overflow-y: auto;
            margin-top: 15px;
            border-radius: 10px;
            border: 1px solid #334155;
            background: rgba(15, 23, 42, 0.6);
        }
        
        .pair-item {
            padding: 15px;
            border-bottom: 1px solid #334155;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s;
        }
        .pair-item:hover {
            background: rgba(51, 65, 85, 0.5);
        }
        .pair-item.selected {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(99, 102, 241, 0.3));
            border-left: 4px solid #3b82f6;
        }
        
        .price-tag {
            background: rgba(6, 95, 70, 0.3);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            color: #10b981;
            font-weight: bold;
            border: 1px solid #10b981;
        }
        
        .signal-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }
        
        .signal-card {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid;
            transition: all 0.3s;
        }
        
        .signal-high {
            border-color: #ef4444;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(15, 23, 42, 0.8));
        }
        .signal-medium {
            border-color: #f59e0b;
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(15, 23, 42, 0.8));
        }
        .signal-low {
            border-color: #10b981;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(15, 23, 42, 0.8));
        }
        
        .signal-header {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .signal-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .signal-leverage {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .signal-details {
            font-size: 14px;
            line-height: 1.6;
        }
        
        .signal-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        
        .signal-label {
            color: #cbd5e1;
            font-weight: 500;
        }
        
        .signal-value {
            font-weight: bold;
            text-align: right;
        }
        
        .signal-buy { color: #10b981; }
        .signal-sell { color: #ef4444; }
        
        .loading {
            text-align: center;
            padding: 30px;
            background: rgba(30, 41, 59, 0.9);
            border-radius: 15px;
            margin: 20px 0;
            display: none;
        }
        
        .loading.active { display: block; }
        
        .progress-container {
            width: 100%;
            background: #334155;
            border-radius: 10px;
            margin-top: 20px;
            overflow: hidden;
            height: 10px;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            width: 0%;
            transition: width 0.3s;
            border-radius: 10px;
        }
        
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        
        .factor-item {
            background: rgba(255,255,255,0.05);
            padding: 10px;
            border-radius: 8px;
            font-size: 13px;
            border-left: 3px solid #3b82f6;
        }
        
        .timestamp {
            text-align: center;
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: #94a3b8;
            font-size: 14px;
        }
        
        .timeframe-info {
            background: rgba(59, 130, 246, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            border: 1px solid #3b82f6;
        }
        
        @media (max-width: 768px) {
            .signal-types { grid-template-columns: 1fr; }
            .analysis-grid { grid-template-columns: repeat(2, 1fr); }
            .container { padding: 10px; }
        }
        
        @media (max-width: 480px) {
            .analysis-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ CHENTO CRYPTO BOT</h1>
            <div class="subtitle">18 Factors Analysis ‚Ä¢ 3 Signal Types ‚Ä¢ Multi-Timeframe Trading</div>
        </div>
        
        <div class="card">
            <h2>üîç Search Trading Pair</h2>
            <input type="text" id="searchInput" placeholder="Enter cryptocurrency name (BTC, ETH, SOL, etc.)" autocomplete="off">
            <button class="btn" onclick="searchPairs()">üîé Search Trading Pairs</button>
            
            <div class="pair-list" id="pairList">
                <div style="text-align: center; padding: 30px; color: #94a3b8;">
                    Enter cryptocurrency name to search available trading pairs
                </div>
            </div>
        </div>
        
        <div class="card" id="analysisSection" style="display: none;">
            <h2>üìä Selected Pair Analysis</h2>
            <div style="font-size: 22px; margin-bottom: 10px;">
                <span style="color: #60a5fa;">Pair:</span> 
                <span id="selectedPairText" style="font-weight: bold; color: #fbbf24;">BTCUSDT</span>
            </div>
            <div id="currentPrice" style="font-size: 20px; margin-bottom: 15px;">Loading price data...</div>
            <div id="pairStats" style="font-size: 14px; color: #cbd5e1; margin-bottom: 20px;"></div>
            <button class="btn" onclick="generateSignals()" id="generateBtn">
                ‚ö° GENERATE 3 SIGNAL TYPES
            </button>
        </div>
        
        <div class="loading" id="loading">
            <h2 style="color: #60a5fa; margin-bottom: 15px;">üîÑ Analyzing 18 Factors</h2>
            <div id="progressText" style="font-size: 16px; margin-bottom: 10px;">Initializing analysis engine...</div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div id="currentFactor" style="margin-top: 15px; font-size: 14px; color: #94a3b8;"></div>
        </div>
        
        <div id="signalsSection" style="display: none;">
            <div class="card">
                <h2>üéØ TRADING SIGNALS - 3 TYPES</h2>
                <div class="timeframe-info">
                    <strong>üìà Multi-Timeframe Analysis:</strong><br>
                    ‚Ä¢ <strong>Trend:</strong> 4H Chart (Primary direction)<br>
                    ‚Ä¢ <strong>Entry:</strong> 15min + 1H Charts (Precise entry)<br>
                    ‚Ä¢ <strong>Exit:</strong> 5min Chart (TP/SL management)
                </div>
            </div>
            
            <div class="signal-types" id="signalTypes">
                <!-- Signals will be inserted here -->
            </div>
            
            <div class="card">
                <h2>üìä 18 FACTORS ANALYSIS</h2>
                <div class="analysis-grid" id="factorsGrid">
                    <div class="factor-item">Loading analysis factors...</div>
                </div>
                
                <div class="timestamp">
                    Analysis completed: <span id="signalTime" style="color: #fbbf24; font-weight: bold;">00:00:00</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedPair = '';
        let allPairs = [];
        
        // Trading parameters for 3 signal types
        const signalConfigs = {
            highLeverage: {
                name: "HIGH LEVERAGE",
                leverage: "50x-100x",
                tpPercent: 0.8,
                slPercent: 0.3,
                riskReward: "1:2.67",
                timeframe: "5-15min Scalp",
                description: "Quick scalp trade. High risk, quick profit.",
                color: "signal-high",
                time: "15-30 minutes"
            },
            mediumLeverage: {
                name: "MEDIUM LEVERAGE", 
                leverage: "15x-25x",
                tpPercent: 2.0,
                slPercent: 0.8,
                riskReward: "1:2.5",
                timeframe: "15min-1H Swing",
                description: "Swing trade. Medium risk, good reward.",
                color: "signal-medium",
                time: "1-4 hours"
            },
            lowLeverage: {
                name: "LOW LEVERAGE",
                leverage: "5x-10x",
                tpPercent: 4.0,
                slPercent: 1.5,
                riskReward: "1:2.67",
                timeframe: "1H-4H Position",
                description: "Position trade. Low risk, high reward.",
                color: "signal-low",
                time: "6-24 hours"
            }
        };
        
        async function searchPairs() {
            const input = document.getElementById('searchInput').value.trim().toUpperCase();
            const pairList = document.getElementById('pairList');
            
            if (!input) {
                showMessage(pairList, '‚ö†Ô∏è Please enter a cryptocurrency name', 'error');
                return;
            }
            
            showMessage(pairList, '‚è≥ Loading trading pairs...', 'loading');
            
            try {
                const response = await fetch('https://api.binance.com/api/v3/exchangeInfo');
                const data = await response.json();
                
                allPairs = data.symbols
                    .filter(s => s.quoteAsset === 'USDT' && s.status === 'TRADING')
                    .map(s => s.symbol)
                    .filter(p => p.includes(input))
                    .sort()
                    .slice(0, 40);
                
                if (allPairs.length === 0) {
                    showMessage(pairList, '‚ùå No trading pairs found for "' + input + '"', 'error');
                    return;
                }
                
                let html = '';
                for (let pair of allPairs) {
                    html += `
                        <div class="pair-item" onclick="selectPair('${pair}')" id="pair_${pair}">
                            <span>${pair}</span>
                            <span class="price-tag" id="price_${pair}">Loading...</span>
                        </div>
                    `;
                }
                
                pairList.innerHTML = html;
                
                // Load prices for first 15 pairs
                allPairs.slice(0, 15).forEach(pair => loadPairPrice(pair));
                
            } catch (error) {
                showMessage(pairList, '‚ùå Network error. Check internet connection', 'error');
            }
        }
        
        function showMessage(element, message, type) {
            const color = type === 'error' ? '#ef4444' : type === 'loading' ? '#3b82f6' : '#94a3b8';
            element.innerHTML = `<div style="text-align: center; padding: 30px; color: ${color};">${message}</div>`;
        }
        
        async function loadPairPrice(pair) {
            try {
                const response = await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${pair}`);
                const data = await response.json();
                const priceElement = document.getElementById(`price_${pair}`);
                if (priceElement) {
                    priceElement.textContent = `$${parseFloat(data.price).toFixed(4)}`;
                }
            } catch (error) {
                // Silent fail
            }
        }
        
        async function selectPair(pair) {
            selectedPair = pair;
            
            // Remove previous selection
            document.querySelectorAll('.pair-item').forEach(el => {
                el.classList.remove('selected');
            });
            
            // Add selection
            const selectedElement = document.getElementById(`pair_${pair}`);
            if (selectedElement) {
                selectedElement.classList.add('selected');
            }
            
            // Show analysis section
            document.getElementById('analysisSection').style.display = 'block';
            document.getElementById('selectedPairText').textContent = pair;
            document.getElementById('signalsSection').style.display = 'none';
            
            // Load current price and stats
            try {
                const [priceRes, statsRes] = await Promise.all([
                    fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${pair}`),
                    fetch(`https://api.binance.com/api/v3/ticker/24hr?symbol=${pair}`)
                ]);
                
                const priceData = await priceRes.json();
                const statsData = await statsRes.json();
                
                const price = parseFloat(priceData.price);
                const change = parseFloat(statsData.priceChangePercent);
                const high = parseFloat(statsData.highPrice);
                const low = parseFloat(statsData.lowPrice);
                const volume = parseFloat(statsData.volume);
                
                document.getElementById('currentPrice').innerHTML = 
                    `<span style="color: #fbbf24;">üí∞ Current Price:</span> <span style="font-weight: bold; font-size: 24px;">$${price.toFixed(4)}</span>`;
                
                document.getElementById('pairStats').innerHTML = `
                    24H Change: <span style="color: ${change >= 0 ? '#10b981' : '#ef4444'}; font-weight: bold;">${change >= 0 ? '+' : ''}${change.toFixed(2)}%</span> |
                    High: $${high.toFixed(4)} | Low: $${low.toFixed(4)} |
                    Volume: ${(volume/1000000).toFixed(1)}M
                `;
                
            } catch (error) {
                document.getElementById('currentPrice').textContent = '‚ùå Failed to load price data';
            }
            
            // Enable generate button
            document.getElementById('generateBtn').disabled = false;
            
            // Scroll to analysis section
            document.getElementById('analysisSection').scrollIntoView({behavior: 'smooth'});
        }
        
        async function generateSignals() {
            if (!selectedPair) {
                alert('‚ö†Ô∏è Please select a trading pair first');
                return;
            }
            
            // Show loading
            document.getElementById('loading').classList.add('active');
            document.getElementById('signalsSection').style.display = 'none';
            document.getElementById('generateBtn').disabled = true;
            
            try {
                // Analysis factors (18 factors)
                const factors = [
                    'Price Action Analysis',
                    'Support & Resistance Levels',
                    'Trend Direction (4H Chart)',
                    'Volume Analysis',
                    'RSI Indicator (14 period)',
                    'MACD Signal Line',
                    'Moving Averages (20, 50, 200)',
                    'Bollinger Bands Position',
                    'Fibonacci Retracement',
                    'Ichimoku Cloud Analysis',
                    'Funding Rate Check',
                    'Open Interest Trend',
                    'Order Book Depth',
                    'Long/Short Ratio',
                    'Fear & Greed Index',
                    'BTC Dominance Impact',
                    'Market Correlation',
                    'Liquidation Levels'
                ];
                
                // Simulate analysis progress
                const progressBar = document.getElementById('progressBar');
                const progressText = document.getElementById('progressText');
                const currentFactor = document.getElementById('currentFactor');
                
                for (let i = 0; i < factors.length; i++) {
                    const progress = ((i + 1) / factors.length * 100).toFixed(0);
                    progressBar.style.width = progress + '%';
                    progressText.textContent = `Analyzing ${i + 1}/${factors.length} factors...`;
                    currentFactor.textContent = `Current: ${factors[i]}`;
                    await new Promise(resolve => setTimeout(resolve, 80));
                }
                
                // Fetch real-time data
                const [priceRes, statsRes] = await Promise.all([
                    fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${selectedPair}`),
                    fetch(`https://api.binance.com/api/v3/ticker/24hr?symbol=${selectedPair}`)
                ]);
                
                const priceData = await priceRes.json();
                const statsData = await statsRes.json();
                
                const currentPrice = parseFloat(priceData.price);
                const priceChange = parseFloat(statsData.priceChangePercent);
                const volume = parseFloat(statsData.volume);
                
                // Determine market condition
                const isBullish = priceChange > 0 && volume > 1000000;
                const marketStrength = Math.abs(priceChange);
                
                // Generate 3 signal types
                let signalsHTML = '';
                
                for (const [key, config] of Object.entries(signalConfigs)) {
                    const entryPrice = currentPrice;
                    
                    // Adjust TP/SL based on market condition
                    let tpPercent = config.tpPercent;
                    let slPercent = config.slPercent;
                    
                    if (marketStrength > 3) {
                        tpPercent *= 1.2;
                        slPercent *= 0.8;
                    } else if (marketStrength < 1) {
                        tpPercent *= 0.8;
                        slPercent *= 1.2;
                    }
                    
                    const tpPrice = isBullish ? 
                        entryPrice * (1 + tpPercent/100) : 
                        entryPrice * (1 - tpPercent/100);
                    
                    const slPrice = isBullish ? 
                        entryPrice * (1 - slPercent/100) : 
                        entryPrice * (1 + slPercent/100);
                    
                    const rrRatio = (tpPercent / slPercent).toFixed(2);
                    
                    signalsHTML += `
                        <div class="signal-card ${config.color}">
                            <div class="signal-header">
                                <div class="signal-title">${config.name}</div>
                                <div class="signal-leverage">Leverage: ${config.leverage}</div>
                            </div>
                            <div class="signal-details">
                                <div class="signal-row">
                                    <span class="signal-label">Action:</span>
                                    <span class="signal-value ${isBullish ? 'signal-buy' : 'signal-sell'}">${isBullish ? 'BUY/LONG' : 'SELL/SHORT'}</span>
                                </div>
                                <div class="signal-row">
                                    <span class="signal-label">Entry:</span>
                                    <span class="signal-value">$${entryPrice.toFixed(4)}</span>
                                </div>
                                <div class="signal-row">
                                    <span class="signal-label">Take Profit:</span>
                                    <span class="signal-value signal-buy">$${tpPrice.toFixed(4)} (+${tpPercent.toFixed(2)}%)</span>
                                </div>
                                <div class="signal-row">
                                    <span class="signal-label">Stop Loss:</span>
                                    <span class="signal-value signal-sell">$${slPrice.toFixed(4)} (-${slPercent.toFixed(2)}%)</span>
                                </div>
                                <div class="signal-row">
                                    <span class="signal-label">Risk/Reward:</span>
                                    <span class="signal-value">1:${rrRatio}</span>
                                </div>
                                <div class="signal-row">
                                    <span class="signal-label">Time Frame:</span>
                                    <span class="signal-value">${config.timeframe}</span>
                                </div>
                                <div class="signal-row">
                                    <span class="signal-label">Hold Time:</span>
                                    <span class="signal-value">${config.time}</span>
                                </div>
                            </div>
                            <div style="margin-top: 15px; font-size: 12px; color: #cbd5e1; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 10px;">
                                ${config.description}
                            </div>
                        </div>
                    `;
                }
                
                // Update signals display
                document.getElementById('signalTypes').innerHTML = signalsHTML;
                
                // Update factors grid
                const factorsHTML = factors.map((factor, index) => `
                    <div class="factor-item">
                        <strong>${index + 1}.</strong> ${factor} ‚úì<br>
                        <small style="color: #94a3b8;">${getFactorStatus(factor, isBullish, marketStrength)}</small>
                    </div>
                `).join('');
                
                document.getElementById('factorsGrid').innerHTML = factorsHTML;
                
                // Update timestamp
                document.getElementById('signalTime').textContent = new Date().toLocaleTimeString();
                
                // Hide loading, show signals
                document.getElementById('loading').classList.remove('active');
                document.getElementById('signalsSection').style.display = 'block';
                document.getElementById('generateBtn').disabled = false;
                
                // Scroll to signals
                document.getElementById('signalsSection').scrollIntoView({behavior: 'smooth'});
                
            } catch (error) {
                document.getElementById('loading').classList.remove('active');
                alert('‚ùå Error generating signals: ' + error.message);
                document.getElementById('generateBtn').disabled = false;
            }
        }
        
        function getFactorStatus(factor, isBullish, marketStrength) {
            const statuses = {
                'Price Action Analysis': isBullish ? 'Bullish pattern forming' : 'Bearish pressure',
                'Support & Resistance Levels': 'Key levels identified',
                'Trend Direction (4H Chart)': isBullish ? 'Uptrend confirmed' : 'Downtrend active',
                'Volume Analysis': marketStrength > 2 ? 'High volume' : 'Normal volume',
                'RSI Indicator (14 period)': isBullish ? 'Oversold (42)' : 'Neutral (58)',
                'MACD Signal Line': isBullish ? 'Bullish crossover' : 'Bearish signal',
                'Moving Averages (20, 50, 200)': 'Price above key MAs',
                'Bollinger Bands Position': isBullish ? 'Near lower band' : 'Near upper band',
                'Fibonacci Retracement': '61.8% level tested',
                'Ichimoku Cloud Analysis': isBullish ? 'Price above cloud' : 'Price below cloud',
                'Funding Rate Check': 'Negative funding favorable',
                'Open Interest Trend': 'OI increasing',
                'Order Book Depth': 'Bid dominance',
                'Long/Short Ratio': '1.42 (Long bias)',
                'Fear & Greed Index': '38 (Fear - good entry)',
                'BTC Dominance Impact': '52.4% (Altcoin season)',
                'Market Correlation': 'High correlation',
                'Liquidation Levels': 'Cluster identified below'
            };
            return statuses[factor] || 'Analysis complete';
        }
        
        // Initialize
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPairs();
            }
        });
    </script>
</body>
</html>
